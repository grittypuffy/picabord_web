{"version":3,"sources":["../../../lib/storage.ts"],"sourcesContent":["import { type User, type InsertUser } from \"@shared/schema\";\r\nimport { randomUUID } from \"crypto\";\r\n\r\n// modify the interface with any CRUD methods\r\n// you might need\r\n\r\nexport interface IStorage {\r\n  getUser(id: string): Promise<User | undefined>;\r\n  getUserByUsername(username: string): Promise<User | undefined>;\r\n  createUser(user: InsertUser): Promise<User>;\r\n}\r\n\r\nexport class MemStorage implements IStorage {\r\n  private users: Map<string, User>;\r\n\r\n  constructor() {\r\n    this.users = new Map();\r\n  }\r\n\r\n  async getUser(id: string): Promise<User | undefined> {\r\n    return this.users.get(id);\r\n  }\r\n\r\n  async getUserByUsername(username: string): Promise<User | undefined> {\r\n    return Array.from(this.users.values()).find(\r\n      (user) => user.username === username,\r\n    );\r\n  }\r\n\r\n  async createUser(insertUser: InsertUser): Promise<User> {\r\n    const id = randomUUID();\r\n    const user: User = { ...insertUser, id };\r\n    this.users.set(id, user);\r\n    return user;\r\n  }\r\n}\r\n\r\nexport const storage = new MemStorage();\r\n"],"names":[],"mappings":"kjCACA,IAAA,EAAA,EAAA,CAAA,CAAA,OAoCO,IAAM,EAAU,IAzBhB,AAyBoB,MAzBd,AACH,KAAyB,AAEjC,cAAc,CACZ,IAAI,CAAC,KAAK,CAAG,IAAI,GACnB,CAEA,MAAM,QAAQ,CAAU,CAA6B,CACnD,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EACxB,CAEA,MAAM,kBAAkB,CAAgB,CAA6B,CACnE,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,IAAI,CACzC,AAAC,GAAS,EAAK,QAAQ,GAAK,EAEhC,CAEA,MAAM,WAAW,CAAsB,CAAiB,CACtD,IAAM,EAAK,CAAA,EAAA,EAAA,UAAA,AAAU,IACf,EAAa,CAAE,GAAG,CAAU,IAAE,CAAG,EAEvC,OADA,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAI,GACZ,CACT,CACF"}