{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/check.ts","../../../../node_modules/lucide-react/src/icons/shield.ts","../../../../components/PrivacySettings.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('Check', [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]]);\n\nexport default Check;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('Shield', [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n]);\n\nexport default Shield;\n","'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Shield, Check, X } from 'lucide-react'\r\nimport { \r\n  getConsentState, \r\n  grantConsent, \r\n  declineConsent, \r\n  withdrawConsent,\r\n  onConsentChange \r\n} from '@/lib/consent-manager'\r\n\r\n/**\r\n * PrivacySettings Component\r\n * \r\n * Allows users to view and manage their privacy and consent preferences.\r\n * Provides options to grant, decline, or withdraw consent for analytics.\r\n */\r\nexport default function PrivacySettings() {\r\n  const [consentState, setConsentState] = useState<{\r\n    hasResponded: boolean\r\n    consentGiven: boolean\r\n    timestamp?: number\r\n  }>({\r\n    hasResponded: false,\r\n    consentGiven: false,\r\n    timestamp: undefined,\r\n  })\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  // Load consent state on mount\r\n  useEffect(() => {\r\n    const state = getConsentState()\r\n    setConsentState({\r\n      hasResponded: state.hasResponded,\r\n      consentGiven: state.consentGiven,\r\n      timestamp: state.timestamp,\r\n    })\r\n\r\n    // Listen for consent changes\r\n    const cleanup = onConsentChange((consentGiven) => {\r\n      const updatedState = getConsentState()\r\n      setConsentState({\r\n        hasResponded: updatedState.hasResponded,\r\n        consentGiven: updatedState.consentGiven,\r\n        timestamp: updatedState.timestamp,\r\n      })\r\n    })\r\n\r\n    return cleanup\r\n  }, [])\r\n\r\n  /**\r\n   * Handle granting consent\r\n   */\r\n  const handleGrantConsent = () => {\r\n    setIsLoading(true)\r\n    grantConsent()\r\n    // Page will reload, so no need to reset loading state\r\n  }\r\n\r\n  /**\r\n   * Handle declining consent\r\n   */\r\n  const handleDeclineConsent = () => {\r\n    setIsLoading(true)\r\n    declineConsent()\r\n    setIsLoading(false)\r\n    // Update state immediately\r\n    const updatedState = getConsentState()\r\n    setConsentState({\r\n      hasResponded: updatedState.hasResponded,\r\n      consentGiven: updatedState.consentGiven,\r\n      timestamp: updatedState.timestamp,\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Handle withdrawing consent\r\n   */\r\n  const handleWithdrawConsent = () => {\r\n    if (confirm('Are you sure you want to withdraw your consent? This will clear all analytics data and reload the page.')) {\r\n      setIsLoading(true)\r\n      withdrawConsent()\r\n      // Page will reload, so no need to reset loading state\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Format timestamp for display\r\n   */\r\n  const formatTimestamp = (timestamp?: number): string => {\r\n    if (!timestamp) return 'N/A'\r\n    \r\n    const date = new Date(timestamp)\r\n    return date.toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-background/90 backdrop-blur-xl border border-border/50 rounded-3xl p-6 shadow-lg\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center gap-3 mb-6\">\r\n        <div className=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center\">\r\n          <Shield className=\"w-5 h-5 text-primary\" />\r\n        </div>\r\n        <div>\r\n          <h2 className=\"text-xl font-semibold text-foreground\">Privacy Settings</h2>\r\n          <p className=\"text-sm text-muted-foreground\">Manage your data and consent preferences</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Current Status */}\r\n      <div className=\"mb-6 p-4 bg-muted/30 rounded-2xl\">\r\n        <h3 className=\"text-sm font-semibold text-foreground mb-3\">Current Status</h3>\r\n        \r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <span className=\"text-sm text-muted-foreground\">Analytics Consent:</span>\r\n            <div className=\"flex items-center gap-2\">\r\n              {consentState.consentGiven ? (\r\n                <>\r\n                  <Check className=\"w-4 h-4 text-green-500\" />\r\n                  <span className=\"text-sm font-medium text-green-500\">Granted</span>\r\n                </>\r\n              ) : consentState.hasResponded ? (\r\n                <>\r\n                  <X className=\"w-4 h-4 text-red-500\" />\r\n                  <span className=\"text-sm font-medium text-red-500\">Declined</span>\r\n                </>\r\n              ) : (\r\n                <span className=\"text-sm font-medium text-muted-foreground\">Not Set</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {consentState.timestamp && (\r\n            <div className=\"flex items-center justify-between\">\r\n              <span className=\"text-sm text-muted-foreground\">Last Updated:</span>\r\n              <span className=\"text-sm font-medium text-foreground\">\r\n                {formatTimestamp(consentState.timestamp)}\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Information */}\r\n      <div className=\"mb-6 p-4 bg-primary/5 rounded-2xl\">\r\n        <h3 className=\"text-sm font-semibold text-foreground mb-2\">What We Track</h3>\r\n        <ul className=\"text-sm text-muted-foreground space-y-1\">\r\n          <li>• Page views and navigation patterns</li>\r\n          <li>• Time spent on pages</li>\r\n          <li>• Button clicks and interactions</li>\r\n          <li>• Form submissions (no personal data)</li>\r\n        </ul>\r\n        <p className=\"text-xs text-muted-foreground mt-3\">\r\n          All data is anonymized and we never collect personally identifiable information.\r\n        </p>\r\n      </div>\r\n\r\n      {/* Actions */}\r\n      <div className=\"space-y-3\">\r\n        {!consentState.hasResponded && (\r\n          <>\r\n            <Button\r\n              onClick={handleGrantConsent}\r\n              disabled={isLoading}\r\n              className=\"w-full rounded-2xl py-2.5 font-semibold bg-primary text-primary-foreground hover:bg-primary/90\"\r\n            >\r\n              {isLoading ? 'Processing...' : 'Grant Consent'}\r\n            </Button>\r\n            <Button\r\n              onClick={handleDeclineConsent}\r\n              disabled={isLoading}\r\n              variant=\"outline\"\r\n              className=\"w-full rounded-2xl py-2.5 font-semibold\"\r\n            >\r\n              Decline Consent\r\n            </Button>\r\n          </>\r\n        )}\r\n\r\n        {consentState.hasResponded && !consentState.consentGiven && (\r\n          <Button\r\n            onClick={handleGrantConsent}\r\n            disabled={isLoading}\r\n            className=\"w-full rounded-2xl py-2.5 font-semibold bg-primary text-primary-foreground hover:bg-primary/90\"\r\n          >\r\n            {isLoading ? 'Processing...' : 'Grant Consent'}\r\n          </Button>\r\n        )}\r\n\r\n        {consentState.consentGiven && (\r\n          <Button\r\n            onClick={handleWithdrawConsent}\r\n            disabled={isLoading}\r\n            variant=\"destructive\"\r\n            className=\"w-full rounded-2xl py-2.5 font-semibold\"\r\n          >\r\n            {isLoading ? 'Processing...' : 'Withdraw Consent & Clear Data'}\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Additional Info */}\r\n      <p className=\"text-xs text-muted-foreground mt-4 text-center\">\r\n        Changes to your consent preferences will take effect immediately.\r\n        {consentState.consentGiven && ' Withdrawing consent will clear all stored analytics data.'}\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0,1]}